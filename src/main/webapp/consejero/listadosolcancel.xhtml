<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Consejero</title>
        <link rel="icon" href="\recursosVisuales\sistemas.jpg"></link>
    </h:head>
    <h:form id="listadoSolicitudes">
        <h:body style="background-color: seashell ">
            <img src="\recursosVisuales\logo-login.jpg" alt="Logotipo"  height = "80" style="margin-left: 30%; margin-right: 18%"/>
            <p:outputPanel id="panelConsejero" style="text-align: center; margin: auto" >
                <img src="\recursosVisuales\profesores.jpg" alt="Logotipo"/>
                <br/>
                <h:outputLink value="/logout" style=" background-color:gainsboro ;margin-left:85%;font-size:10pt;font-family:Verdana; font-weight:bold">Salir</h:outputLink>
                <img src="\recursosVisuales\door_out.png" alt="Logotipo"   style="margin-left: 0%; margin-right: 0%"/>   
                <br/>
                <h:outputText value="Solicitudes de cancelacion de aconsejados" />
                <br />
                <h:outputText value="Profesor: #{beanSolicitudConsejero.nombreConsejero}"/>                                    
                <br />
                <br />
                
                <p:tabView>
                    <p:tab title="Pendientes">
                        <p:dataTable id="notram" var="solsNo" value="#{beanSolicitudConsejero.solicitudesNoTramitadas}" style="width: 100%; margin: 0 auto">
                            <p:column headerText="Fecha Solicitud" style="text-align: center; width: 10%">
                                <h:outputText value="#{solsNo.fecha.date}-#{solsNo.fecha.month}-#{solsNo.fecha.year+1900}" />
                            </p:column>
                            <p:column headerText="Codigo solicitante" style="text-align: center">
                                <h:outputText value="#{solsNo.estudiante}" />
                            </p:column>
                            <p:column headerText="Nombre solicitante" style="text-align: center">
                                <h:outputText value="#{beanSolicitudConsejero.consultarEstudianteNombre(solsNo.estudiante)}" />
                            </p:column>
                            <p:column headerText="Materia" style="text-align: center">
                                <h:outputText value="#{solsNo.materia}"/>
                            </p:column>
                            <p:column headerText="Accion" style="width:18%;text-align: center">
                                <h:commandButton id="tramitar" value="Tramitar" title="tramitar la solicitud seleccionada" action="#{beanSolicitudConsejero.tramitarSolicitud()}" >
                                    <f:setPropertyActionListener value="#{solsNo}" target="#{beanSolicitudConsejero.solicitudSeleccionada}" />
                                </h:commandButton>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Tramitadas">
                        <p:dataTable id="sitram" var="solsSi" value="#{beanSolicitudConsejero.solicitudesTramitadas}" style="width: 100%; margin: 0 auto">
                            <p:column headerText="Fecha Solicitud" style="text-align: center">
                                <h:outputText value="#{solsSi.fecha.date}-#{solsSi.fecha.month}-#{solsSi.fecha.year+1900}" />
                            </p:column>
                            <p:column headerText="Codigo solicitante" style="text-align: center">
                                <h:outputText value="#{solsSi.estudiante}" />
                            </p:column>
                            <p:column headerText="Nombre solicitante" style="text-align: center">
                                <h:outputText value="#{beanSolicitudConsejero.consultarEstudianteNombre(solsSi.estudiante)}" />
                            </p:column>
                            <p:column headerText="Materia" style="text-align: center">
                                <h:outputText value="#{solsSi.materia}"/>
                            </p:column>
                            <p:column headerText="Justificacion" style="text-align: center">
                                <h:outputText value="#{solsSi.justificacion}"/>
                            </p:column>
                            <p:column headerText="Aval consejero" style="text-align: center">
                                <h:outputText value="#{beanSolicitudConsejero.booleanToString(solsSi.avalConsejero)}"/>
                            </p:column>
                            <p:column headerText="Comentario consejero" style="text-align: center">
                                <h:outputText value="#{solsSi.comentario}"/>
                            </p:column>
                            <p:column headerText="Aval acudiente" style="text-align: center">
                                <h:outputText value="#{beanSolicitudConsejero.booleanToString(solsSi.avalAcudiente)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                
                    
                </p:tabView>
            </p:outputPanel>
            
        </h:body>
    </h:form>
</html>
